<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <title>ğŸš„ Japan Adventure â€” Bonito Express</title>
  <meta name="description" content="Kawaii Japan vacation planner with Conductor Bonito" />
  <meta name="theme-color" content="#FF6B9D" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link href="https://fonts.googleapis.com/css2?family=M+PLUS+Rounded+1c:wght@400;700;900&family=Zen+Maru+Gothic:wght@700;900&display=swap" rel="stylesheet" />
  <style>
    *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
    html, body, #root { min-height: 100vh; min-height: 100dvh; }
    body { font-family: 'M PLUS Rounded 1c', sans-serif; -webkit-font-smoothing: antialiased; background: #FFF5F9; overflow-x: hidden; }
    ::-webkit-scrollbar { width: 6px; }
    ::-webkit-scrollbar-track { background: transparent; }
    ::-webkit-scrollbar-thumb { background: #FFB3D9; border-radius: 3px; }
    @keyframes yukiFloat{0%,100%{transform:translateY(0)}50%{transform:translateY(-6px)}}
    @keyframes fadeSlideUp{from{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}
    @keyframes trainMove{0%{transform:translateX(-120%)}100%{transform:translateX(250%)}}
    @keyframes bobble{0%,100%{transform:rotate(-3deg)}50%{transform:rotate(3deg)}}
    @keyframes shimmer{0%{background-position:-200% center}100%{background-position:200% center}}
    @keyframes stickerDrift1{0%,100%{transform:translate(0,0) rotate(0deg)}25%{transform:translate(5px,-8px) rotate(5deg)}50%{transform:translate(-3px,-14px) rotate(-3deg)}75%{transform:translate(4px,-6px) rotate(4deg)}}
    @keyframes stickerDrift2{0%,100%{transform:translate(0,0) rotate(0deg)}33%{transform:translate(-6px,-10px) rotate(-6deg)}66%{transform:translate(4px,-5px) rotate(4deg)}}
    @keyframes stickerBounce{0%,100%{transform:translateY(0) scale(1)}50%{transform:translateY(-12px) scale(1.15)}}
    @keyframes stickerSpin{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}
    @keyframes stickerSparkle{0%,100%{opacity:0.1;transform:scale(0.8)}50%{opacity:0.3;transform:scale(1.3)}}
    @keyframes stickerWave{0%,100%{transform:rotate(-10deg)}50%{transform:rotate(10deg)}}
    @keyframes stickerSwing{0%,100%{transform:rotate(-8deg) translateY(0)}50%{transform:rotate(8deg) translateY(-5px)}}
    @keyframes stickerPulse{0%,100%{transform:scale(1);opacity:0.15}50%{transform:scale(1.3);opacity:0.3}}
    @keyframes stickerZoom{0%,100%{transform:translateX(0) scale(1)}50%{transform:translateX(8px) scale(1.1)}}
    @keyframes tabGlow{0%,100%{box-shadow:0 0 0 rgba(255,107,157,0)}50%{box-shadow:0 0 12px rgba(255,107,157,0.3)}}
    @keyframes gradientShift{0%,100%{background-position:0% 50%}50%{background-position:100% 50%}}
    @keyframes splashBounce{0%,100%{transform:translateY(0) scale(1)}50%{transform:translateY(-25px) scale(1.03)}}
    @keyframes splashFadeIn{from{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}
    @keyframes splashSticker{0%,100%{transform:translateY(0) rotate(0deg) scale(1)}25%{transform:translateY(-12px) rotate(5deg) scale(1.1)}50%{transform:translateY(-20px) rotate(-3deg) scale(1.05)}75%{transform:translateY(-8px) rotate(2deg) scale(1.08)}}
    @keyframes trainRoll{0%{transform:translateX(-150%)}100%{transform:translateX(150%)}}
    @keyframes sparkleFloat{0%,100%{opacity:0;transform:scale(0) translateY(0)}50%{opacity:1;transform:scale(1) translateY(-20px)}}
    @keyframes tailWag{0%,100%{transform:rotate(-15deg)}50%{transform:rotate(15deg)}}
    @keyframes earTwitch{0%,90%,100%{transform:rotate(0deg)}93%{transform:rotate(-8deg)}96%{transform:rotate(5deg)}}
  </style>
</head>
<body>
  <div id="root"></div>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.production.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.production.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/7.23.9/babel.min.js"></script>
  <script type="text/babel">
const{useState,useEffect}=React;
const DAYS=[{id:1,date:"Day 1",title:"Tokyo Arrival âœˆï¸",subtitle:"Shibuya & Harajuku",color:"#FF6B9D",emoji:"ğŸ—¼",events:[{time:"14:00",title:"Arrive at Narita Airport",icon:"âœˆï¸",type:"travel",note:"Take Narita Express to Shibuya (~90 min)",mapQuery:"Narita+Airport+Tokyo"},{time:"16:00",title:"Check in to Airbnb",icon:"ğŸ ",type:"stay",note:"Drop bags, freshen up",mapQuery:"Shibuya+Station+Tokyo"},{time:"17:30",title:"Explore Takeshita Street",icon:"ğŸ›ï¸",type:"explore",note:"Harajuku's famous kawaii shopping street!",mapQuery:"Takeshita+Street+Harajuku+Tokyo"},{time:"19:00",title:"Dinner at Genki Sushi",icon:"ğŸ£",type:"food",note:"Conveyor belt sushi experience",mapQuery:"Genki+Sushi+Shibuya+Tokyo"},{time:"21:00",title:"Shibuya Crossing at Night",icon:"ğŸŒƒ",type:"explore",note:"See the famous scramble crossing lit up!",mapQuery:"Shibuya+Crossing+Tokyo"}]},{id:2,date:"Day 2",title:"Classic Tokyo ğŸ¯",subtitle:"Asakusa & Akihabara",color:"#9B59FF",emoji:"â›©ï¸",events:[{time:"08:00",title:"Breakfast at Tsukiji Outer Market",icon:"ğŸŸ",type:"food",note:"Fresh sushi & tamagoyaki for breakfast",mapQuery:"Tsukiji+Outer+Market+Tokyo"},{time:"10:00",title:"Senso-ji Temple",icon:"â›©ï¸",type:"explore",note:"Tokyo's oldest temple â€” get fortunes!",mapQuery:"Senso-ji+Temple+Tokyo"},{time:"12:30",title:"Lunch in Asakusa",icon:"ğŸœ",type:"food",note:"Try tempura or monjayaki",mapQuery:"Asakusa+Tokyo"},{time:"14:00",title:"Akihabara Electric Town",icon:"ğŸ®",type:"explore",note:"Anime, games, & electronics paradise",mapQuery:"Akihabara+Tokyo"},{time:"17:00",title:"TeamLab Planets",icon:"ğŸ¨",type:"explore",note:"Immersive digital art â€” book tickets!",mapQuery:"TeamLab+Planets+Tokyo"},{time:"20:00",title:"Ramen in Shinjuku",icon:"ğŸœ",type:"food",note:"Fuunji tsukemen or Ichiran ramen",mapQuery:"Shinjuku+Ramen+Street+Tokyo"}]},{id:3,date:"Day 3",title:"Day Trip ğŸ—»",subtitle:"Kamakura",color:"#00C9A7",emoji:"ğŸŒ¸",events:[{time:"07:30",title:"Early Train Departure",icon:"ğŸš„",type:"travel",note:"Take JR line to Kamakura (~1 hr)",mapQuery:"Kamakura+Station"},{time:"09:00",title:"Great Buddha (Daibutsu)",icon:"ğŸ—¿",type:"explore",note:"Iconic 13m bronze Buddha statue",mapQuery:"Kotoku-in+Kamakura"},{time:"11:00",title:"Hokokuji Bamboo Temple",icon:"ğŸ‹",type:"explore",note:"Stunning bamboo grove + matcha tea",mapQuery:"Hokokuji+Temple+Kamakura"},{time:"12:30",title:"Komachi-dori Street Lunch",icon:"ğŸ¡",type:"food",note:"Street food & cute shops",mapQuery:"Komachi-dori+Kamakura"},{time:"14:30",title:"Enoshima Island",icon:"ğŸï¸",type:"explore",note:"Sea caves, shrines & ocean views",mapQuery:"Enoshima+Island"},{time:"18:00",title:"Return to Tokyo",icon:"ğŸšƒ",type:"travel",note:"Rest up for tomorrow!",mapQuery:"Shibuya+Station+Tokyo"}]},{id:4,date:"Day 4",title:"Culture Day ğŸŒ",subtitle:"Meiji Shrine & Omotesando",color:"#FF9F43",emoji:"ğŸ",events:[{time:"08:00",title:"Meiji Shrine Morning Walk",icon:"â›©ï¸",type:"explore",note:"Peaceful morning at this forest shrine",mapQuery:"Meiji+Shrine+Tokyo"},{time:"10:30",title:"Omotesando Shopping",icon:"ğŸ›ï¸",type:"explore",note:"High-end fashion boulevard",mapQuery:"Omotesando+Tokyo"},{time:"12:00",title:"Cat Cafe Visit",icon:"ğŸ±",type:"explore",note:"Cuddle with cats! Book ahead.",mapQuery:"Cat+Cafe+Harajuku+Tokyo"},{time:"14:00",title:"Yoyogi Park Picnic",icon:"ğŸŒ³",type:"explore",note:"Grab konbini snacks and relax",mapQuery:"Yoyogi+Park+Tokyo"},{time:"16:00",title:"Shinjuku Gyoen Garden",icon:"ğŸŒº",type:"explore",note:"Beautiful traditional garden",mapQuery:"Shinjuku+Gyoen+Tokyo"},{time:"19:00",title:"Golden Gai Bar Hopping",icon:"ğŸ¶",type:"food",note:"Tiny themed bars â€” unforgettable!",mapQuery:"Golden+Gai+Shinjuku+Tokyo"}]},{id:5,date:"Day 5",title:"Kyoto Bound ğŸš…",subtitle:"Shinkansen & Temples",color:"#E84393",emoji:"ğŸš„",events:[{time:"07:00",title:"Shinkansen to Kyoto",icon:"ğŸš…",type:"travel",note:"Bullet train from Tokyo Station (~2.5 hrs)",mapQuery:"Tokyo+Station"},{time:"10:00",title:"Check in Kyoto Airbnb",icon:"ğŸ ",type:"stay",note:"Traditional machiya house stay!",mapQuery:"Kyoto+Station"},{time:"11:30",title:"Fushimi Inari Shrine",icon:"â›©ï¸",type:"explore",note:"Thousands of orange torii gates!",mapQuery:"Fushimi+Inari+Shrine+Kyoto"},{time:"14:00",title:"Nishiki Market Lunch",icon:"ğŸ¡",type:"food",note:"Kyoto's kitchen â€” street food heaven",mapQuery:"Nishiki+Market+Kyoto"},{time:"16:00",title:"Kinkaku-ji Golden Pavilion",icon:"ğŸ¯",type:"explore",note:"The iconic golden temple",mapQuery:"Kinkaku-ji+Kyoto"},{time:"19:00",title:"Pontocho Alley Dinner",icon:"ğŸ®",type:"food",note:"Atmospheric riverside dining",mapQuery:"Pontocho+Alley+Kyoto"}]}];
const ACCOMMODATIONS=[{name:"Shibuya Cozy Apartment",location:"Shibuya, Tokyo",dates:"Days 1-4",price:"Â¥12,000/night",amenities:["WiFi","Kitchen","Washer","Near Station"],emoji:"ğŸ ",color:"#FF6B9D",airbnbSearch:"Shibuya+Tokyo+Japan"},{name:"Kyoto Machiya House",location:"Higashiyama, Kyoto",dates:"Days 5-7",price:"Â¥15,000/night",amenities:["Traditional","Garden","Futon","Tea Room"],emoji:"ğŸ¡",color:"#9B59FF",airbnbSearch:"Higashiyama+Kyoto+Japan"}];
const PACKING_INIT=[{item:"Passport & Copies",checked:false,emoji:"ğŸ“•"},{item:"JR Pass / IC Card",checked:false,emoji:"ğŸ«"},{item:"Portable WiFi / SIM",checked:false,emoji:"ğŸ“¶"},{item:"Comfortable Walking Shoes",checked:false,emoji:"ğŸ‘Ÿ"},{item:"Universal Adapter",checked:false,emoji:"ğŸ”Œ"},{item:"Cash (Yen)",checked:false,emoji:"ğŸ’´"},{item:"Rain Jacket / Umbrella",checked:false,emoji:"â˜‚ï¸"},{item:"Sunscreen",checked:false,emoji:"ğŸ§´"},{item:"Medications",checked:false,emoji:"ğŸ’Š"},{item:"Snacks for Flight",checked:false,emoji:"ğŸ™"}];
const PHRASES=[{jp:"ã“ã‚“ã«ã¡ã¯",en:"Hello",romaji:"Konnichiwa"},{jp:"ã‚ã‚ŠãŒã¨ã†",en:"Thank you",romaji:"Arigatou"},{jp:"ã™ã¿ã¾ã›ã‚“",en:"Excuse me",romaji:"Sumimasen"},{jp:"ã„ãã‚‰ã§ã™ã‹",en:"How much?",romaji:"Ikura desu ka"},{jp:"ãŠé¡˜ã„ã—ã¾ã™",en:"Please",romaji:"Onegaishimasu"},{jp:"ç¾å‘³ã—ã„ï¼",en:"Delicious!",romaji:"Oishii!"},{jp:"ãƒˆã‚¤ãƒ¬ã¯ã©ã“",en:"Where's the toilet?",romaji:"Toire wa doko"},{jp:"é§…ã¯ã©ã“",en:"Where's the station?",romaji:"Eki wa doko"}];
const typeColors={travel:{bg:"#E8F8FF",border:"#7EC8E3"},food:{bg:"#FFF5E6",border:"#FFB347"},explore:{bg:"#F0FFF0",border:"#77DD77"},stay:{bg:"#FFF0F5",border:"#FF6B9D"}};
const GUIDE_MESSAGES={home:"ã«ã‚ƒï½ã‚“ï¼Welcome aboard the Bonito Express! ğŸ±ğŸš„ I'm Conductor Bonito â€” your purrfect guide to Japan! Next stop: amazing adventures! ğŸŒ¸âœ¨",itinerary:"Doors closingï½! ã«ã‚ƒï¼ğŸš„ğŸ’¨ Here's your daily route map! Tap any station to see it on Google Maps! Don't forget your IC card! ãƒ”ãƒƒï¼",stays:"Arriving at your cozy napping spots! ğŸ âœ¨ I found the most purr-fect places near all the best train lines! ã«ã‚ƒï½",packing:"Pre-departure checklist! ğŸ’ A good conductor always double-checks! Even cats know to pack their essentials! ã«ã‚ƒï¼âœ“",phrases:"Attention passengers! ğŸ—£ï¸ğŸ“¢ Learn these phrases and you'll charm everyone in Japan! ãŒã‚“ã°ã£ã¦ã«ã‚ƒï½ï¼"};

/* === SHINKANSEN SVG === */
function ShinkansenTrain({width=280}){
  return(
    <svg width={width} height={Math.round(width*0.14)} viewBox="0 0 280 40" style={{display:"block"}}>
      <line x1="-10" y1="18" x2="-2" y2="18" stroke="white" strokeWidth="1.5" opacity="0.4"/>
      <line x1="-15" y1="24" x2="-4" y2="24" stroke="white" strokeWidth="1" opacity="0.3"/>
      <line x1="-8" y1="30" x2="-1" y2="30" stroke="white" strokeWidth="1" opacity="0.25"/>
      <path d="M0 28 Q8 28 18 24 Q28 18 40 16 L40 28 Q40 32 36 32 L4 32 Q0 32 0 28 Z" fill="white"/>
      <path d="M18 24 Q28 18 40 16 L40 20 Q30 21 20 26 Z" fill="#0066CC"/>
      <path d="M2 29 Q10 27 20 25 Q30 22 40 20 L40 22 Q30 24 20 27 Q10 29 2 31 Z" fill="#0066CC"/>
      <circle cx="10" cy="27" r="2.5" fill="#FFE066"/><circle cx="10" cy="27" r="1.5" fill="#FFF8CC"/>
      <rect x="40" y="14" width="190" height="18" rx="2" fill="white"/>
      <rect x="40" y="20" width="190" height="4" fill="#0066CC"/>
      {[0,1,2,3,4,5,6,7,8,9,10,11].map(i=><React.Fragment key={i}><rect x={46+i*16} y={15.5} width="10" height="4" rx="1.5" fill="#B8D8F0"/><rect x={46+i*16} y={15.5} width="10" height="1.5" rx="1" fill="#D0E8FF" opacity="0.5"/></React.Fragment>)}
      <rect x="78" y="14.5" width="6" height="11" rx="1" fill="#E8E8E8" stroke="#CCC" strokeWidth="0.5"/>
      <rect x="142" y="14.5" width="6" height="11" rx="1" fill="#E8E8E8" stroke="#CCC" strokeWidth="0.5"/>
      <rect x="206" y="14.5" width="6" height="11" rx="1" fill="#E8E8E8" stroke="#CCC" strokeWidth="0.5"/>
      <rect x="230" y="14" width="20" height="18" rx="2" fill="white"/>
      <rect x="230" y="20" width="20" height="4" fill="#0066CC"/>
      <path d="M250 14 Q258 14 260 18 L260 28 Q258 32 250 32 L250 14 Z" fill="white"/>
      <path d="M250 20 Q256 20 258 22 L258 24 Q256 26 250 24 Z" fill="#0066CC"/>
      <circle cx="257" cy="17" r="1.5" fill="#FF4444"/>
      <rect x="60" y="12" width="170" height="3" rx="1.5" fill="#F0F0F0"/>
      <line x1="120" y1="12" x2="118" y2="6" stroke="#999" strokeWidth="1.5"/>
      <line x1="118" y1="6" x2="126" y2="3" stroke="#999" strokeWidth="1.2"/>
      <line x1="126" y1="3" x2="124" y2="6" stroke="#999" strokeWidth="1.2"/>
      <line x1="124" y1="6" x2="122" y2="12" stroke="#999" strokeWidth="1"/>
      <rect x="5" y="32" width="250" height="3" rx="1.5" fill="#444"/>
      <rect x="50" y="33" width="24" height="4" rx="2" fill="#333"/>
      <circle cx="56" cy="37" r="2.5" fill="#555"/><circle cx="56" cy="37" r="1.5" fill="#777"/>
      <circle cx="68" cy="37" r="2.5" fill="#555"/><circle cx="68" cy="37" r="1.5" fill="#777"/>
      <rect x="180" y="33" width="24" height="4" rx="2" fill="#333"/>
      <circle cx="186" cy="37" r="2.5" fill="#555"/><circle cx="186" cy="37" r="1.5" fill="#777"/>
      <circle cx="198" cy="37" r="2.5" fill="#555"/><circle cx="198" cy="37" r="1.5" fill="#777"/>
      <rect x="100" y="25" width="14" height="6" rx="1" fill="#0066CC" opacity="0.15"/>
      <text x="107" y="30" textAnchor="middle" fontSize="5" fill="#0066CC" fontWeight="bold" fontFamily="sans-serif">JR</text>
      <text x="268" y="22" fontSize="10" fill="#FFD700" opacity="0.7">âœ¦</text>
    </svg>
  );
}

/* === CONDUCTOR BONITO â€” Orange Cat === */
function ConductorBonito({expression="hearts",size=120,animate=true}){
  const eyeV={
    hearts:<React.Fragment><g transform="translate(37,44)"><path d="M0 3Q0-1 3-1Q6-1 6 3Q6 7 3 10Q0 7 0 3Z" fill="#FF6B9D"/><path d="M6 3Q6-1 9-1Q12-1 12 3Q12 7 9 10Q6 7 6 3Z" fill="#FF6B9D"/><circle cx="3" cy="2" r="1.5" fill="white" opacity="0.8"/><circle cx="9" cy="1" r="0.8" fill="white" opacity="0.5"/></g><g transform="translate(55,44)"><path d="M0 3Q0-1 3-1Q6-1 6 3Q6 7 3 10Q0 7 0 3Z" fill="#FF6B9D"/><path d="M6 3Q6-1 9-1Q12-1 12 3Q12 7 9 10Q6 7 6 3Z" fill="#FF6B9D"/><circle cx="3" cy="2" r="1.5" fill="white" opacity="0.8"/><circle cx="9" cy="1" r="0.8" fill="white" opacity="0.5"/></g></React.Fragment>,
    stars:<React.Fragment><g transform="translate(37,42)"><polygon points="6,0 7.5,4 12,4.5 8.5,7.5 9.5,12 6,9.5 2.5,12 3.5,7.5 0,4.5 4.5,4" fill="#FFD700"/><circle cx="5" cy="5" r="1.5" fill="white" opacity="0.7"/></g><g transform="translate(55,42)"><polygon points="6,0 7.5,4 12,4.5 8.5,7.5 9.5,12 6,9.5 2.5,12 3.5,7.5 0,4.5 4.5,4" fill="#FFD700"/><circle cx="5" cy="5" r="1.5" fill="white" opacity="0.7"/></g></React.Fragment>,
    happy:<React.Fragment><ellipse cx="43" cy="48" rx="6" ry="7" fill="#2D1B00"/><ellipse cx="61" cy="48" rx="6" ry="7" fill="#2D1B00"/><circle cx="45" cy="45" r="2.5" fill="white"/><circle cx="63" cy="45" r="2.5" fill="white"/><circle cx="41" cy="48" r="1.2" fill="white" opacity="0.5"/><circle cx="59" cy="48" r="1.2" fill="white" opacity="0.5"/></React.Fragment>,
    wink:<React.Fragment><g transform="translate(37,42)"><polygon points="6,0 7.5,4 12,4.5 8.5,7.5 9.5,12 6,9.5 2.5,12 3.5,7.5 0,4.5 4.5,4" fill="#FFD700"/><circle cx="5" cy="5" r="1.5" fill="white" opacity="0.7"/></g><path d="M56 49Q61 44 66 49" stroke="#2D1B00" strokeWidth="2.8" fill="none" strokeLinecap="round"/><text x="69" y="45" fontSize="7" fill="#FFD700">âœ¦</text></React.Fragment>
  };
  const mthV={
    hearts:<React.Fragment><path d="M46 59Q48 56 50 59Q52 56 54 59" stroke="#2D1B00" strokeWidth="1.8" fill="none" strokeLinecap="round"/><ellipse cx="50" cy="61" rx="2.5" ry="2" fill="#FF9999"/></React.Fragment>,
    stars:<React.Fragment><ellipse cx="50" cy="60" rx="6" ry="5" fill="#2D1B00"/><ellipse cx="50" cy="58.5" rx="4.5" ry="2" fill="#FF9999"/></React.Fragment>,
    happy:<path d="M46 59Q48 56 50 59Q52 56 54 59" stroke="#2D1B00" strokeWidth="1.8" fill="none" strokeLinecap="round"/>,
    wink:<React.Fragment><path d="M46 59Q48 56 50 59Q52 56 54 59" stroke="#2D1B00" strokeWidth="1.8" fill="none" strokeLinecap="round"/><ellipse cx="50" cy="61" rx="2" ry="1.5" fill="#FF9999"/></React.Fragment>
  };
  return(
    <svg width={size} height={size} viewBox="0 0 100 118" style={animate?{animation:"yukiFloat 3s ease-in-out infinite"}:{}}>
      <defs>
        <linearGradient id="hG" x1="0%" y1="0%" x2="100%" y2="100%"><stop offset="0%" stopColor="#1B3A5C"/><stop offset="100%" stopColor="#2C5F8A"/></linearGradient>
        <linearGradient id="uG" x1="0%" y1="0%" x2="0%" y2="100%"><stop offset="0%" stopColor="#1B3A5C"/><stop offset="100%" stopColor="#15304D"/></linearGradient>
        <linearGradient id="fG" x1="0%" y1="0%" x2="100%" y2="100%"><stop offset="0%" stopColor="#F4A940"/><stop offset="100%" stopColor="#E8922A"/></linearGradient>
        <radialGradient id="bG"><stop offset="0%" stopColor="#FFB3B3" stopOpacity="0.75"/><stop offset="100%" stopColor="#FFB3B3" stopOpacity="0"/></radialGradient>
      </defs>
      {/* Tail */}
      <g style={{transformOrigin:"28px 95px",animation:"tailWag 1.5s ease-in-out infinite"}}>
        <path d="M28 95Q14 85 10 72Q8 65 14 62" stroke="url(#fG)" strokeWidth="6" fill="none" strokeLinecap="round"/>
        <circle cx="14" cy="62" r="4" fill="#F7BC5E"/>
        <path d="M22 88Q16 82 13 74" stroke="#D4802A" strokeWidth="1.5" fill="none" strokeLinecap="round" opacity="0.4"/>
      </g>
      {/* Ears */}
      <g style={{transformOrigin:"32px 18px",animation:"earTwitch 4s ease-in-out infinite"}}><path d="M24 24L28 4L38 20Z" fill="url(#fG)"/><path d="M27 22L29.5 8L35 19Z" fill="#FFBBAA"/></g>
      <g style={{transformOrigin:"68px 18px",animation:"earTwitch 4s ease-in-out infinite 2s"}}><path d="M76 24L72 4L62 20Z" fill="url(#fG)"/><path d="M73 22L70.5 8L65 19Z" fill="#FFBBAA"/></g>
      {/* Hat */}
      <ellipse cx="50" cy="24" rx="28" ry="5" fill="#0F2840"/>
      <ellipse cx="50" cy="23.5" rx="27" ry="4.5" fill="url(#hG)"/>
      <path d="M30 23Q30 10 50 7Q70 10 70 23Z" fill="url(#hG)"/>
      <rect x="30" y="18" width="40" height="5" fill="#C9A84C"/>
      <rect x="30" y="18" width="40" height="1.5" fill="#E8C864" opacity="0.5"/>
      <circle cx="50" cy="14" r="5.5" fill="#C9A84C"/><circle cx="50" cy="14" r="4" fill="#1B3A5C"/>
      <text x="50" y="16.5" textAnchor="middle" fontSize="5.5" fill="#E8C864" fontWeight="bold">JR</text>
      {/* Cat head */}
      <ellipse cx="50" cy="44" rx="25" ry="24" fill="url(#fG)"/>
      <ellipse cx="50" cy="52" rx="14" ry="10" fill="#F7BC5E"/>
      <ellipse cx="50" cy="58" rx="8" ry="5" fill="#FCCF78" opacity="0.6"/>
      <path d="M42 30L44 36" stroke="#D4802A" strokeWidth="1.8" fill="none" strokeLinecap="round" opacity="0.35"/>
      <path d="M50 28L50 35" stroke="#D4802A" strokeWidth="1.8" fill="none" strokeLinecap="round" opacity="0.35"/>
      <path d="M58 30L56 36" stroke="#D4802A" strokeWidth="1.8" fill="none" strokeLinecap="round" opacity="0.35"/>
      <circle cx="30" cy="52" r="6" fill="url(#bG)"/><circle cx="70" cy="52" r="6" fill="url(#bG)"/>
      {eyeV[expression]||eyeV.hearts}
      {/* Whiskers */}
      <line x1="14" y1="48" x2="32" y2="52" stroke="#D4802A" strokeWidth="1" opacity="0.5"/>
      <line x1="12" y1="54" x2="31" y2="55" stroke="#D4802A" strokeWidth="1" opacity="0.5"/>
      <line x1="15" y1="60" x2="32" y2="58" stroke="#D4802A" strokeWidth="1" opacity="0.5"/>
      <line x1="86" y1="48" x2="68" y2="52" stroke="#D4802A" strokeWidth="1" opacity="0.5"/>
      <line x1="88" y1="54" x2="69" y2="55" stroke="#D4802A" strokeWidth="1" opacity="0.5"/>
      <line x1="85" y1="60" x2="68" y2="58" stroke="#D4802A" strokeWidth="1" opacity="0.5"/>
      {/* Nose */}
      <path d="M47 55L50 53L53 55Z" fill="#FF8888"/><ellipse cx="50" cy="55.5" rx="3.5" ry="2" fill="#FF8888"/>
      {mthV[expression]||mthV.hearts}
      {/* Body */}
      <rect x="42" y="66" width="16" height="6" fill="url(#fG)" rx="3"/>
      <path d="M24 72Q24 70 34 68L42 68Q50 70 58 68L66 68Q76 70 76 72L78 108L22 108Z" fill="url(#uG)"/>
      <circle cx="42" cy="80" r="2" fill="#C9A84C"/><circle cx="58" cy="80" r="2" fill="#C9A84C"/>
      <circle cx="42" cy="88" r="2" fill="#C9A84C"/><circle cx="58" cy="88" r="2" fill="#C9A84C"/>
      <circle cx="42" cy="96" r="2" fill="#C9A84C"/><circle cx="58" cy="96" r="2" fill="#C9A84C"/>
      <line x1="50" y1="72" x2="50" y2="108" stroke="#C9A84C" strokeWidth="0.8" opacity="0.4"/>
      <path d="M42 68L50 77L58 68" stroke="white" strokeWidth="2.5" fill="none" strokeLinejoin="round"/>
      <path d="M42 68L36 72" stroke="white" strokeWidth="2" fill="none" strokeLinecap="round"/>
      <path d="M58 68L64 72" stroke="white" strokeWidth="2" fill="none" strokeLinecap="round"/>
      <rect x="24" y="70" width="13" height="4" rx="2" fill="#C9A84C"/><rect x="63" y="70" width="13" height="4" rx="2" fill="#C9A84C"/>
      <rect x="59" y="82" width="15" height="7" rx="2" fill="white" opacity="0.9"/>
      <text x="66.5" y="88" textAnchor="middle" fontSize="4.5" fill="#1B3A5C" fontWeight="bold">BONITO</text>
      {/* Arms + gloves */}
      <path d="M24 74Q14 78 10 70Q8 65 13 60" stroke="#1B3A5C" strokeWidth="9" fill="none" strokeLinecap="round"/>
      <circle cx="13" cy="59" r="5" fill="white"/><path d="M10 56Q13 52 16 56" stroke="white" strokeWidth="2" fill="white"/>
      <circle cx="12" cy="60" r="1" fill="#FFD0D0"/><circle cx="15" cy="59" r="0.8" fill="#FFD0D0"/>
      <path d="M76 74Q86 80 88 90" stroke="#1B3A5C" strokeWidth="9" fill="none" strokeLinecap="round"/>
      <circle cx="88" cy="92" r="5" fill="white"/>
      <circle cx="87" cy="93" r="1" fill="#FFD0D0"/><circle cx="90" cy="92" r="0.8" fill="#FFD0D0"/>
      {/* Bell collar */}
      <path d="M42 68Q50 71 58 68" stroke="#FF6B9D" strokeWidth="2.5" fill="none"/>
      <circle cx="50" cy="70" r="2.5" fill="#FFD700" stroke="#E8B800" strokeWidth="0.5"/>
      {/* Whistle */}
      <path d="M13 59L13 54" stroke="#999" strokeWidth="0.8"/><rect x="11" y="51" width="5" height="3" rx="1" fill="#C0C0C0"/>
      {/* Sparkles */}
      {expression==="hearts"&&<React.Fragment><text x="18" y="38" fontSize="8" fill="#FF6B9D" opacity="0.7">â™¥</text><text x="78" y="40" fontSize="6" fill="#FF6B9D" opacity="0.5">â™¥</text><text x="84" y="32" fontSize="4" fill="#FF6B9D" opacity="0.4">â™¥</text></React.Fragment>}
      {expression==="stars"&&<React.Fragment><text x="16" y="38" fontSize="7" fill="#FFD700" opacity="0.8">âœ¦</text><text x="80" y="38" fontSize="5" fill="#FFD700" opacity="0.6">âœ§</text><text x="85" y="30" fontSize="4" fill="#9B59FF" opacity="0.5">â‹†</text></React.Fragment>}
      {expression==="wink"&&<text x="78" y="38" fontSize="6" fill="#FFD700" opacity="0.6">âœ¦</text>}
    </svg>
  );
}

/* === Background Stickers === */
function AnimatedStickers(){
  const s=[{emoji:"ğŸŒ¸",x:3,y:5,size:28,speed:4,delay:0,anim:"stickerDrift1"},{emoji:"ğŸ¡",x:88,y:8,size:24,speed:5,delay:0.5,anim:"stickerBounce"},{emoji:"â›©ï¸",x:12,y:22,size:22,speed:6,delay:1,anim:"stickerSpin"},{emoji:"ğŸ€",x:82,y:25,size:20,speed:3.5,delay:0.3,anim:"stickerDrift2"},{emoji:"ğŸ™",x:5,y:40,size:22,speed:4.5,delay:1.5,anim:"stickerBounce"},{emoji:"ğŸ—»",x:92,y:42,size:26,speed:7,delay:0,anim:"stickerDrift1"},{emoji:"âœ¨",x:15,y:58,size:18,speed:2.5,delay:0.8,anim:"stickerSparkle"},{emoji:"ğŸŒ",x:90,y:60,size:22,speed:4,delay:1.2,anim:"stickerWave"},{emoji:"ğŸ±",x:8,y:75,size:24,speed:5,delay:0.6,anim:"stickerBounce"},{emoji:"ğŸ®",x:85,y:78,size:26,speed:3,delay:1.8,anim:"stickerSwing"},{emoji:"ğŸ’–",x:50,y:12,size:16,speed:3,delay:2,anim:"stickerPulse"},{emoji:"ğŸš„",x:45,y:88,size:20,speed:4,delay:0.4,anim:"stickerZoom"},{emoji:"ğŸµ",x:25,y:92,size:16,speed:3.5,delay:1.3,anim:"stickerDrift2"},{emoji:"ğŸ£",x:70,y:15,size:20,speed:4.2,delay:0.9,anim:"stickerBounce"},{emoji:"ğŸŒˆ",x:35,y:35,size:18,speed:6,delay:2.2,anim:"stickerDrift1"},{emoji:"ğŸ",x:60,y:55,size:22,speed:5,delay:1.6,anim:"stickerSwing"},{emoji:"ğŸµ",x:75,y:92,size:18,speed:4,delay:0.7,anim:"stickerBounce"},{emoji:"ğŸŒ™",x:20,y:48,size:16,speed:5.5,delay:1.9,anim:"stickerPulse"},{emoji:"ğŸ",x:65,y:70,size:24,speed:3.8,delay:0.2,anim:"stickerWave"},{emoji:"ğŸ¾",x:40,y:65,size:14,speed:3,delay:2.5,anim:"stickerDrift2"}];
  return(<div style={{position:"fixed",inset:0,pointerEvents:"none",zIndex:0,overflow:"hidden"}}>{s.map((s,i)=><div key={i} style={{position:"absolute",left:s.x+"%",top:s.y+"%",fontSize:s.size,animation:s.anim+" "+s.speed+"s ease-in-out infinite",animationDelay:s.delay+"s",opacity:0.18,filter:"saturate(1.3)"}}>{s.emoji}</div>)}</div>);
}

function SpeechBubble({message}){
  return(<div style={{background:"white",borderRadius:22,padding:"14px 18px",fontSize:14,fontFamily:"'M PLUS Rounded 1c', sans-serif",color:"#333",boxShadow:"0 4px 20px rgba(255,107,157,0.15)",border:"3px solid #FFE0F0",position:"relative",maxWidth:280,lineHeight:1.6}}>
    <span style={{position:"absolute",top:-10,right:10,fontSize:14,animation:"stickerPulse 2s ease-in-out infinite"}}>âœ¨</span>
    <span style={{position:"absolute",bottom:-8,right:25,fontSize:12,animation:"stickerBounce 2.5s ease-in-out infinite"}}>ğŸ¾</span>
    {message}
    <div style={{position:"absolute",left:-12,bottom:15,width:0,height:0,borderTop:"10px solid transparent",borderBottom:"10px solid transparent",borderRight:"14px solid white"}}/>
  </div>);
}

/* === MAIN APP === */
function App(){
  const[activeTab,setActiveTab]=useState("home");
  const[selectedDay,setSelectedDay]=useState(null);
  const[packingList,setPackingList]=useState(PACKING_INIT);
  const[guideExpression,setGuideExpression]=useState("hearts");
  const[showSplash,setShowSplash]=useState(true);
  const[expandedEvent,setExpandedEvent]=useState(null);
  useEffect(()=>{const t=setTimeout(()=>setShowSplash(false),3200);return()=>clearTimeout(t)},[]);
  useEffect(()=>{const ex=["hearts","stars","hearts","wink","stars","happy","hearts"];const iv=setInterval(()=>setGuideExpression(ex[Math.floor(Math.random()*ex.length)]),3000);return()=>clearInterval(iv)},[]);
  const togglePacking=(i)=>setPackingList(p=>p.map((item,idx)=>idx===i?{...item,checked:!item.checked}:item));
  const openMaps=(q)=>window.open("https://www.google.com/maps/search/"+q,"_blank");
  const openAirbnb=(q)=>window.open("https://www.airbnb.com/s/"+q+"/homes","_blank");

  if(showSplash){
    const ss=[{e:"ğŸŒ¸",x:8,y:12,s:36},{e:"â­",x:85,y:10,s:28},{e:"ğŸ€",x:10,y:80,s:32},{e:"âœ¨",x:88,y:75,s:26},{e:"ğŸ’–",x:50,y:8,s:24},{e:"ğŸŒŸ",x:25,y:90,s:22},{e:"ğŸ¡",x:78,y:88,s:28},{e:"ğŸ¾",x:18,y:45,s:22},{e:"ğŸ—»",x:80,y:45,s:30},{e:"â›©ï¸",x:5,y:55,s:26},{e:"ğŸ±",x:92,y:55,s:24},{e:"ğŸ®",x:42,y:90,s:26}];
    return(<div style={{minHeight:"100vh",background:"linear-gradient(135deg,#FFE0F0 0%,#FFF0F5 25%,#E8F0FF 50%,#F0E6FF 75%,#FFE0F0 100%)",backgroundSize:"400% 400%",animation:"gradientShift 4s ease infinite",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",fontFamily:"'M PLUS Rounded 1c', sans-serif",overflow:"hidden",position:"relative"}}>
      {ss.map((s,i)=><div key={i} style={{position:"fixed",fontSize:s.s,left:s.x+"%",top:s.y+"%",animation:"splashSticker "+(2.5+Math.random()*2)+"s ease-in-out infinite",animationDelay:(i*0.2)+"s",opacity:0.5}}>{s.e}</div>)}
      <div style={{position:"fixed",bottom:55,left:0,right:0,overflow:"hidden",height:50,opacity:0.25}}><div style={{animation:"trainRoll 6s linear infinite"}}><ShinkansenTrain width={240}/></div></div>
      <div style={{animation:"splashBounce 1.8s ease-in-out infinite",zIndex:10}}><ConductorBonito expression="stars" size={180} animate={false}/></div>
      <h1 style={{fontFamily:"'Zen Maru Gothic', sans-serif",fontSize:38,background:"linear-gradient(135deg,#FF6B9D,#9B59FF,#FF6B9D)",backgroundSize:"200% auto",animation:"splashFadeIn 0.8s ease-out 0.5s both,shimmer 3s linear infinite",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",marginTop:6,letterSpacing:2,zIndex:10}}>æ—¥æœ¬ã®å†’é™ºï¼</h1>
      <p style={{fontSize:16,color:"#9B59FF",animation:"splashFadeIn 0.8s ease-out 0.8s both",fontWeight:700,zIndex:10}}>ï½ All Aboard the Bonito Express ï½ ğŸ±ğŸš„âœ¨</p>
      <div style={{display:"flex",gap:10,marginTop:16,zIndex:10,animation:"splashFadeIn 0.8s ease-out 1.2s both"}}>{["ğŸ¾","ğŸ’–","â­","ğŸ’–","ğŸ¾"].map((e,i)=><span key={i} style={{fontSize:18,animation:"sparkleFloat 1.5s ease-in-out infinite",animationDelay:(i*0.25)+"s"}}>{e}</span>)}</div>
    </div>);
  }

  return(<div style={{minHeight:"100vh",background:"linear-gradient(180deg,#FFF5F9 0%,#FFF0F5 30%,#F8F0FF 60%,#FFF5F9 100%)",fontFamily:"'M PLUS Rounded 1c', sans-serif",paddingBottom:90,position:"relative",overflow:"hidden"}}>
    <AnimatedStickers/>
    {/* HEADER */}
    <div style={{background:"linear-gradient(135deg,#FF6B9D 0%,#FF8EC7 30%,#C77DFF 70%,#9B59FF 100%)",padding:"18px 20px 32px",borderRadius:"0 0 32px 32px",position:"relative",zIndex:10,boxShadow:"0 8px 30px rgba(255,107,157,0.35)",overflow:"hidden"}}>
      <span style={{position:"absolute",top:8,right:15,fontSize:20,animation:"stickerPulse 2s ease-in-out infinite",opacity:0.4}}>âœ¨</span>
      <span style={{position:"absolute",top:14,right:45,fontSize:14,animation:"stickerBounce 2.5s ease-in-out infinite 0.3s",opacity:0.3}}>ğŸ¾</span>
      <span style={{position:"absolute",bottom:16,right:20,fontSize:16,animation:"stickerWave 3s ease-in-out infinite",opacity:0.3}}>ğŸŒ</span>
      <div style={{position:"absolute",bottom:2,left:0,right:0,overflow:"hidden",height:26,opacity:0.18}}><div style={{animation:"trainMove 8s linear infinite"}}><ShinkansenTrain width={220}/></div></div>
      <div style={{display:"flex",alignItems:"center",gap:12}}>
        <div style={{animation:"bobble 2.5s ease-in-out infinite",flexShrink:0}}><ConductorBonito expression={guideExpression} size={68} animate={false}/></div>
        <div>
          <h1 style={{fontFamily:"'Zen Maru Gothic', sans-serif",fontSize:21,color:"white",textShadow:"0 2px 10px rgba(0,0,0,0.15)",letterSpacing:1}}>ğŸ‡¯ğŸ‡µ Japan Adventure <span style={{fontSize:14}}>ğŸš„</span></h1>
          <p style={{color:"rgba(255,255,255,0.9)",fontSize:11,fontWeight:700,marginTop:3}}>Conductor Bonito at your service! ã«ã‚ƒï½ <span style={{animation:"stickerPulse 1.5s ease-in-out infinite"}}>ğŸ¾</span></p>
        </div>
      </div>
    </div>
    {/* GUIDE */}
    <div style={{padding:"16px 20px",display:"flex",gap:10,alignItems:"flex-start",animation:"fadeSlideUp 0.5s ease-out",position:"relative",zIndex:5}}>
      <div style={{flexShrink:0}}><ConductorBonito expression={guideExpression} size={58}/></div>
      <SpeechBubble message={GUIDE_MESSAGES[activeTab]}/>
    </div>
    {/* CONTENT */}
    <div style={{padding:"0 16px",position:"relative",zIndex:5}}>
      {activeTab==="home"&&<div style={{animation:"fadeSlideUp 0.4s ease-out"}}>
        <div style={{display:"flex",justifyContent:"center",gap:8,marginBottom:14}}>{["ğŸŒ¸","ğŸ—¼","â›©ï¸","ğŸ¡","ğŸš„","ğŸŒ","ğŸ¯","ğŸ¾"].map((e,i)=><span key={i} style={{fontSize:22,animation:"stickerBounce "+(2+i*0.2)+"s ease-in-out infinite",animationDelay:(i*0.12)+"s"}}>{e}</span>)}</div>
        <div style={{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:10,marginBottom:20}}>
          {[{label:"Days",value:"5",emoji:"ğŸ“…",color:"#FF6B9D",sticker:"ğŸ—“ï¸"},{label:"Cities",value:"3",emoji:"ğŸ™ï¸",color:"#9B59FF",sticker:"ğŸ—¾"},{label:"Stops",value:"28",emoji:"ğŸ“",color:"#00C9A7",sticker:"ğŸš‰"}].map((s,i)=><div key={i} style={{background:"white",borderRadius:22,padding:"16px 10px",textAlign:"center",boxShadow:"0 4px 18px rgba(0,0,0,0.04)",border:"2.5px solid "+s.color+"25",animation:"fadeSlideUp 0.4s ease-out",animationDelay:(i*0.1)+"s",animationFillMode:"both",position:"relative",overflow:"hidden"}}><span style={{position:"absolute",top:4,right:6,fontSize:12,opacity:0.4,animation:"stickerPulse 2.5s ease-in-out infinite "+(i*0.3)+"s"}}>{s.sticker}</span><div style={{fontSize:28}}>{s.emoji}</div><div style={{fontSize:28,fontWeight:900,color:s.color,fontFamily:"'Zen Maru Gothic', sans-serif"}}>{s.value}</div><div style={{fontSize:11,color:"#AAA",fontWeight:700}}>{s.label}</div></div>)}
        </div>
        <h2 style={{fontFamily:"'Zen Maru Gothic', sans-serif",fontSize:18,color:"#FF6B9D",marginBottom:12,display:"flex",alignItems:"center",gap:8}}><span style={{animation:"stickerWave 2s ease-in-out infinite"}}>ğŸ±</span> Your Journey Route <span style={{fontSize:14,animation:"stickerPulse 2s ease-in-out infinite 0.5s"}}>âœ¨</span></h2>
        {DAYS.map((day,i)=><div key={day.id} onClick={()=>{setSelectedDay(day);setActiveTab("itinerary")}} style={{background:"white",borderRadius:22,padding:16,marginBottom:12,display:"flex",alignItems:"center",gap:14,boxShadow:"0 4px 16px rgba(0,0,0,0.04)",border:"2.5px solid "+day.color+"18",cursor:"pointer",transition:"all 0.25s ease",animation:"fadeSlideUp 0.4s ease-out",animationDelay:(i*0.07)+"s",animationFillMode:"both",position:"relative",overflow:"hidden"}} onMouseEnter={e=>{e.currentTarget.style.transform="translateX(8px) scale(1.01)";e.currentTarget.style.borderColor=day.color+"60"}} onMouseLeave={e=>{e.currentTarget.style.transform="translateX(0) scale(1)";e.currentTarget.style.borderColor=day.color+"18"}}><span style={{position:"absolute",top:6,right:40,fontSize:12,opacity:0.2,animation:"stickerPulse 3s ease-in-out infinite "+(i*0.2)+"s"}}>{["ğŸŒ¸","â­","ğŸ’–","âœ¨","ğŸ€"][i]}</span><div style={{width:54,height:54,borderRadius:18,background:"linear-gradient(135deg,"+day.color+","+day.color+"88)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:28,flexShrink:0,boxShadow:"0 4px 14px "+day.color+"35"}}>{day.emoji}</div><div style={{flex:1}}><div style={{fontSize:10,color:day.color,fontWeight:900,textTransform:"uppercase",letterSpacing:1.2}}>{day.date}</div><div style={{fontSize:16,fontWeight:900,color:"#333"}}>{day.title}</div><div style={{fontSize:12,color:"#AAA"}}>{day.subtitle} Â· {day.events.length} stations ğŸš‰</div></div><div style={{color:day.color,fontSize:22,fontWeight:900}}>â†’</div></div>)}
        <div style={{display:"flex",justifyContent:"center",gap:10,marginTop:10,opacity:0.4}}>{["ğŸ£","ğŸ","ğŸ±","ğŸµ","ğŸ"].map((e,i)=><span key={i} style={{fontSize:20,animation:"stickerDrift1 "+(3+i*0.3)+"s ease-in-out infinite "+(i*0.2)+"s"}}>{e}</span>)}</div>
      </div>}
      {activeTab==="itinerary"&&<div style={{animation:"fadeSlideUp 0.4s ease-out"}}>
        <div style={{display:"flex",gap:8,marginBottom:16,overflowX:"auto",paddingBottom:6}}>{DAYS.map(day=><button key={day.id} onClick={()=>setSelectedDay(day)} style={{background:selectedDay?.id===day.id?"linear-gradient(135deg,"+day.color+","+day.color+"BB)":"white",color:selectedDay?.id===day.id?"white":"#777",border:"2.5px solid "+(selectedDay?.id===day.id?day.color:"#EEE"),borderRadius:16,padding:"8px 16px",fontSize:13,fontWeight:900,fontFamily:"'M PLUS Rounded 1c', sans-serif",cursor:"pointer",whiteSpace:"nowrap",transition:"all 0.2s ease",boxShadow:selectedDay?.id===day.id?"0 4px 14px "+day.color+"40":"0 2px 8px rgba(0,0,0,0.03)"}}>{day.emoji} {day.date}</button>)}</div>
        {selectedDay&&<React.Fragment>
          <div style={{background:"linear-gradient(135deg,"+selectedDay.color+"12,"+selectedDay.color+"05)",borderRadius:22,padding:"16px 18px",marginBottom:16,border:"2.5px solid "+selectedDay.color+"18",position:"relative"}}><span style={{position:"absolute",top:8,right:14,fontSize:16,animation:"stickerPulse 2s ease-in-out infinite",opacity:0.5}}>âœ¨</span><h2 style={{fontFamily:"'Zen Maru Gothic', sans-serif",fontSize:22,color:selectedDay.color}}>{selectedDay.emoji} {selectedDay.title} ğŸš‰</h2><p style={{fontSize:13,color:"#999",marginTop:4}}>{selectedDay.subtitle}</p></div>
          <div style={{position:"relative",paddingLeft:32}}>
            <div style={{position:"absolute",left:15,top:20,bottom:20,width:4,background:"linear-gradient(to bottom,"+selectedDay.color+","+selectedDay.color+"30)",borderRadius:2}}/>
            {selectedDay.events.map((ev,i)=>{const tc=typeColors[ev.type];const isExp=expandedEvent===selectedDay.id+"-"+i;return(<div key={i} style={{marginBottom:12,animation:"fadeSlideUp 0.4s ease-out",animationDelay:(i*0.06)+"s",animationFillMode:"both"}}><div style={{position:"absolute",left:9,width:16,height:16,borderRadius:"50%",background:isExp?selectedDay.color:"white",border:"3px solid "+selectedDay.color,boxShadow:"0 2px 8px "+selectedDay.color+"30",marginTop:18,transition:"all 0.2s ease"}}/><div onClick={()=>setExpandedEvent(isExp?null:selectedDay.id+"-"+i)} style={{background:"white",borderRadius:20,padding:"14px 16px",boxShadow:isExp?"0 6px 20px "+selectedDay.color+"15":"0 3px 12px rgba(0,0,0,0.03)",border:"2.5px solid "+(isExp?selectedDay.color+"50":tc.border+"25"),cursor:"pointer",transition:"all 0.2s ease",position:"relative"}}>{i===0&&<span style={{position:"absolute",top:-6,right:12,fontSize:14,animation:"stickerBounce 2s ease-in-out infinite"}}>ğŸ‰</span>}<div style={{display:"flex",alignItems:"center",gap:10}}><div style={{width:42,height:42,borderRadius:14,background:tc.bg,display:"flex",alignItems:"center",justifyContent:"center",fontSize:22,flexShrink:0,border:"1.5px solid "+tc.border+"30"}}>{ev.icon}</div><div style={{flex:1}}><span style={{fontSize:10,color:selectedDay.color,fontWeight:900,background:selectedDay.color+"12",padding:"2px 8px",borderRadius:8}}>{ev.time}</span><div style={{fontSize:14,fontWeight:900,color:"#333",marginTop:3}}>{ev.title}</div></div><span style={{fontSize:14,transition:"transform 0.2s",transform:isExp?"rotate(90deg)":"rotate(0)"}}>â–¸</span></div>{isExp&&<div style={{marginTop:12,paddingTop:12,borderTop:"2px dashed "+selectedDay.color+"15"}}><p style={{fontSize:13,color:"#666",lineHeight:1.7,marginBottom:14}}>ğŸ± {ev.note}</p><button onClick={(e)=>{e.stopPropagation();openMaps(ev.mapQuery)}} style={{background:"linear-gradient(135deg,#4285F4,#34A853)",color:"white",border:"none",borderRadius:14,padding:"11px 16px",fontSize:12,fontWeight:900,fontFamily:"'M PLUS Rounded 1c', sans-serif",cursor:"pointer",display:"flex",alignItems:"center",gap:8,width:"100%",justifyContent:"center",boxShadow:"0 4px 14px rgba(66,133,244,0.25)"}}>ğŸ“ Open in Google Maps</button></div>}</div></div>)})}
          </div>
        </React.Fragment>}
      </div>}
      {activeTab==="stays"&&<div style={{animation:"fadeSlideUp 0.4s ease-out"}}>
        <h2 style={{fontFamily:"'Zen Maru Gothic', sans-serif",fontSize:20,color:"#FF6B9D",marginBottom:16}}><span style={{animation:"stickerBounce 2s ease-in-out infinite"}}>ğŸ </span> Where You're Staying <span style={{fontSize:14,animation:"stickerPulse 2s ease-in-out infinite 0.3s"}}>âœ¨</span></h2>
        {ACCOMMODATIONS.map((acc,i)=><div key={i} style={{background:"white",borderRadius:26,padding:20,marginBottom:16,boxShadow:"0 4px 22px rgba(0,0,0,0.05)",border:"2.5px solid "+acc.color+"18",animation:"fadeSlideUp 0.4s ease-out",animationDelay:(i*0.1)+"s",animationFillMode:"both",position:"relative",overflow:"hidden"}}><span style={{position:"absolute",top:8,right:12,fontSize:18,animation:"stickerSwing 3s ease-in-out infinite",opacity:0.3}}>ğŸ®</span><div style={{display:"flex",alignItems:"center",gap:14,marginBottom:14}}><div style={{width:58,height:58,borderRadius:20,background:"linear-gradient(135deg,"+acc.color+"25,"+acc.color+"08)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:32,border:"2px solid "+acc.color+"15"}}>{acc.emoji}</div><div><h3 style={{fontSize:17,fontWeight:900,color:"#333"}}>{acc.name}</h3><p style={{fontSize:12,color:"#AAA"}}>ğŸ“ {acc.location}</p></div></div><div style={{display:"flex",justifyContent:"space-between",background:acc.color+"06",borderRadius:16,padding:"12px 16px",marginBottom:14,border:"1.5px solid "+acc.color+"10"}}><div><div style={{fontSize:10,color:"#BBB",fontWeight:700,textTransform:"uppercase",letterSpacing:1}}>Dates</div><div style={{fontSize:15,fontWeight:900,color:"#333"}}>{acc.dates}</div></div><div style={{textAlign:"right"}}><div style={{fontSize:10,color:"#BBB",fontWeight:700,textTransform:"uppercase",letterSpacing:1}}>Price</div><div style={{fontSize:15,fontWeight:900,color:acc.color}}>{acc.price}</div></div></div><div style={{display:"flex",flexWrap:"wrap",gap:6,marginBottom:14}}>{acc.amenities.map((a,j)=><span key={j} style={{background:acc.color+"08",color:acc.color,padding:"5px 12px",borderRadius:12,fontSize:11,fontWeight:700,border:"1.5px solid "+acc.color+"15"}}>{a}</span>)}</div><div style={{display:"flex",gap:10}}><button onClick={()=>openMaps(acc.airbnbSearch)} style={{flex:1,background:"linear-gradient(135deg,#4285F4,#34A853)",color:"white",border:"none",borderRadius:16,padding:"13px 16px",fontSize:12,fontWeight:900,cursor:"pointer",fontFamily:"'M PLUS Rounded 1c', sans-serif",boxShadow:"0 4px 14px rgba(66,133,244,0.25)",display:"flex",alignItems:"center",justifyContent:"center",gap:6}}>ğŸ“ Maps</button><button onClick={()=>openAirbnb(acc.airbnbSearch)} style={{flex:1,background:"linear-gradient(135deg,#FF5A5F,#FC642D)",color:"white",border:"none",borderRadius:16,padding:"13px 16px",fontSize:12,fontWeight:900,cursor:"pointer",fontFamily:"'M PLUS Rounded 1c', sans-serif",boxShadow:"0 4px 14px rgba(255,90,95,0.25)",display:"flex",alignItems:"center",justifyContent:"center",gap:6}}>ğŸ  Airbnb</button></div></div>)}
      </div>}
      {activeTab==="packing"&&<div style={{animation:"fadeSlideUp 0.4s ease-out"}}>
        <div style={{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:16}}><h2 style={{fontFamily:"'Zen Maru Gothic', sans-serif",fontSize:20,color:"#FF6B9D"}}><span style={{animation:"stickerBounce 2s ease-in-out infinite"}}>ğŸ’</span> Packing List</h2><span style={{background:packingList.every(p=>p.checked)?"#77DD7715":"#FF6B9D10",color:packingList.every(p=>p.checked)?"#77DD77":"#FF6B9D",padding:"5px 14px",borderRadius:12,fontSize:12,fontWeight:900,border:"1.5px solid "+(packingList.every(p=>p.checked)?"#77DD7730":"#FF6B9D20")}}>{packingList.every(p=>p.checked)?"âœ… All packed!":packingList.filter(p=>p.checked).length+"/"+packingList.length+" packed"}</span></div>
        <div style={{background:"#FFE0F0",borderRadius:12,height:10,marginBottom:18,overflow:"hidden",border:"1.5px solid #FFD0E5"}}><div style={{background:"linear-gradient(90deg,#FF6B9D,#C77DFF,#9B59FF)",height:"100%",borderRadius:10,width:(packingList.filter(p=>p.checked).length/packingList.length*100)+"%",transition:"width 0.4s ease",backgroundSize:"200% 100%",animation:"shimmer 2s linear infinite"}}/></div>
        {packingList.map((item,i)=><div key={i} onClick={()=>togglePacking(i)} style={{background:item.checked?"linear-gradient(135deg,#F0FFF0,#F5FFF5)":"white",borderRadius:18,padding:"14px 16px",marginBottom:8,display:"flex",alignItems:"center",gap:12,cursor:"pointer",border:"2.5px solid "+(item.checked?"#77DD7730":"#F0F0F0"),transition:"all 0.2s ease",animation:"fadeSlideUp 0.3s ease-out",animationDelay:(i*0.04)+"s",animationFillMode:"both",position:"relative"}}>{item.checked&&<span style={{position:"absolute",top:-4,right:10,fontSize:12,animation:"stickerPulse 2s ease-in-out infinite"}}>âœ¨</span>}<div style={{width:30,height:30,borderRadius:10,border:"2.5px solid "+(item.checked?"#77DD77":"#DDD"),background:item.checked?"linear-gradient(135deg,#77DD77,#66CC66)":"white",display:"flex",alignItems:"center",justifyContent:"center",fontSize:14,color:"white",fontWeight:900,boxShadow:item.checked?"0 2px 8px rgba(119,221,119,0.3)":"none"}}>{item.checked?"âœ“":""}</div><span style={{fontSize:20}}>{item.emoji}</span><span style={{fontSize:14,fontWeight:700,color:item.checked?"#AAA":"#333",textDecoration:item.checked?"line-through":"none"}}>{item.item}</span></div>)}
      </div>}
      {activeTab==="phrases"&&<div style={{animation:"fadeSlideUp 0.4s ease-out"}}>
        <h2 style={{fontFamily:"'Zen Maru Gothic', sans-serif",fontSize:20,color:"#FF6B9D",marginBottom:16}}><span style={{animation:"stickerWave 2s ease-in-out infinite"}}>ğŸ—£ï¸</span> Useful Phrases <span style={{fontSize:14,animation:"stickerBounce 2.5s ease-in-out infinite 0.3s"}}>ğŸ‡¯ğŸ‡µ</span></h2>
        {PHRASES.map((p,i)=><div key={i} style={{background:"white",borderRadius:22,padding:"16px 18px",marginBottom:10,boxShadow:"0 3px 14px rgba(0,0,0,0.03)",border:"2.5px solid #FFE0F015",animation:"fadeSlideUp 0.3s ease-out",animationDelay:(i*0.05)+"s",animationFillMode:"both",position:"relative"}}><span style={{position:"absolute",top:8,right:12,fontSize:12,opacity:0.3,animation:"stickerDrift1 3s ease-in-out infinite "+(i*0.2)+"s"}}>{["ğŸŒ¸","â­","ğŸ€","âœ¨","ğŸ’–","ğŸŒŸ","ğŸµ","ğŸ¡"][i]}</span><div style={{fontFamily:"'Zen Maru Gothic', sans-serif",fontSize:28,color:"#333",marginBottom:6}}>{p.jp}</div><div style={{display:"flex",justifyContent:"space-between",alignItems:"center"}}><div><div style={{fontSize:14,color:"#FF6B9D",fontWeight:700}}>{p.romaji}</div><div style={{fontSize:12,color:"#AAA"}}>{p.en}</div></div><div style={{background:"linear-gradient(135deg,#FF6B9D15,#9B59FF10)",width:38,height:38,borderRadius:14,display:"flex",alignItems:"center",justifyContent:"center",fontSize:18,border:"1.5px solid #FF6B9D15"}}>ğŸ”Š</div></div></div>)}
      </div>}
    </div>
    {/* BOTTOM NAV */}
    <div style={{position:"fixed",bottom:0,left:0,right:0,background:"rgba(255,255,255,0.92)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",borderTop:"2.5px solid #FFE0F0",padding:"6px 8px 10px",display:"flex",justifyContent:"space-around",zIndex:100,boxShadow:"0 -4px 25px rgba(255,107,157,0.1)"}}>
      {[{id:"home",icon:"ğŸ ",label:"Home"},{id:"itinerary",icon:"ğŸ—ºï¸",label:"Route"},{id:"stays",icon:"ğŸ¡",label:"Stays"},{id:"packing",icon:"ğŸ’",label:"Pack"},{id:"phrases",icon:"ğŸ—£ï¸",label:"Phrases"}].map(tab=><button key={tab.id} onClick={()=>{setActiveTab(tab.id);if(tab.id==="itinerary"&&!selectedDay)setSelectedDay(DAYS[0])}} style={{background:activeTab===tab.id?"linear-gradient(135deg,#FF6B9D18,#9B59FF12)":"transparent",border:activeTab===tab.id?"2px solid #FF6B9D20":"2px solid transparent",borderRadius:18,padding:"6px 16px",display:"flex",flexDirection:"column",alignItems:"center",gap:2,cursor:"pointer",transition:"all 0.2s ease",transform:activeTab===tab.id?"scale(1.08)":"scale(1)",animation:activeTab===tab.id?"tabGlow 2s ease-in-out infinite":"none"}}><span style={{fontSize:22}}>{tab.icon}</span><span style={{fontSize:10,fontWeight:900,color:activeTab===tab.id?"#FF6B9D":"#CCC",fontFamily:"'M PLUS Rounded 1c', sans-serif"}}>{tab.label}</span>{activeTab===tab.id&&<div style={{width:5,height:5,borderRadius:"50%",background:"linear-gradient(135deg,#FF6B9D,#9B59FF)",marginTop:1}}/>}</button>)}
    </div>
  </div>);
}

ReactDOM.createRoot(document.getElementById("root")).render(<App/>);
  </script>
</body>
</html>
